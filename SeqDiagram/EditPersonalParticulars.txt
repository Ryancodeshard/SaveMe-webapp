@startuml
mainframe **sd ** Personal Particulars Modification
actor User as u

box "Android Application" #mintcream
boundary MainPage as mp
boundary ProfilePageFrag as ppf
control UserController as uc
control RequestUtil as ru
end box

box Server #beige
control HTTPManager as hm
control SaveMeRequestHandler as smrh
control dbConnector as db
end box

activate hm
activate smrh
activate db

u -> mp++: onMoreButtonClicked()
mp -> ppf++: loadProfilePageFrag()
u -> ppf++: onEditButtonClicked()
ppf--
u -> ppf: //edits personal information//
u -> ppf++: onSaveButtonClicked()
alt entered valid information and password verified
    ppf -> uc++: updateLocalPersonalInformation(name, address, ...)
    uc --> ppf--
    ppf -> ru++: postPersonalInformation()
    ru -> hm++: // HTTP Post with data //
        note right #honeydew: client does not need to wait for server's completion after a POST. 
    ru --> ppf --
    hm -> smrh++: newRequest(rawData)
    smrh -> db++: validateUser(user, cred)
    return isValid
    alt isValid
    smrh -> db++: sqlWrite(data)
    db --> smrh--
    end alt
    smrh --> hm--
    hm--
else information incorrect or password incorrect
    ppf -> u: // Please retry //
end alt
ppf --> mp--
@enduml
